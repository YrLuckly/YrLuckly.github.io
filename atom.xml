<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Rafael</title>
  
  <subtitle>All the glory of life, to the end of the lonely repayment.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://fireworksrain.com/"/>
  <updated>2018-11-22T09:34:38.534Z</updated>
  <id>http://fireworksrain.com/</id>
  
  <author>
    <name>Mr Zuo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Nginx入门</title>
    <link href="http://fireworksrain.com/2018/11/22/Nginx%E5%85%A5%E9%97%A8/"/>
    <id>http://fireworksrain.com/2018/11/22/Nginx入门/</id>
    <published>2018-11-22T09:31:32.000Z</published>
    <updated>2018-11-22T09:34:38.534Z</updated>
    
    <content type="html"><![CDATA[<p>三五七言 / 秋风词</p><p>唐代：李白</p><p>秋风清，秋月明，<br>落叶聚还散，寒鸦栖复惊。<br>相思相见知何日？此时此夜难为情！<br>入我相思门，知我相思苦，<br>长相思兮长相忆，短相思兮无穷极，<br>早知如此绊人心，何如当初莫相识。</p><hr><h3 id="Web服务访问流程："><a href="#Web服务访问流程：" class="headerlink" title="Web服务访问流程："></a>Web服务访问流程：</h3><blockquote><p>dns解析流程：<br>1.你要输入域名  pythonav.cn<br>    2.你的机器首先在/etc/hosts文件中查找解析记录<br>    3.会去本地dns缓存中查找记录，LDNS<br>    4.就去/etc/resolv.conf去找到指定的公网dns服务器<br>    5.假设你dns服务器是119.29.29.29<br>        通过119.29.29.29找到对应的记录<br>        pythonav.cn    123.206.16.61<br>    6.找到记录后，机器会将此记录，缓存到LDNS中，用于下次加速解析<br>    7.浏览器访问对应的ip ，123.206.16.61，发起http请求</p></blockquote><h3 id="nginx的介绍"><a href="#nginx的介绍" class="headerlink" title="nginx的介绍"></a>nginx的介绍</h3><blockquote><p>支持高并发，能支持几万并发连接资源消耗少，在3万并发连接下开启10个nginx线程消耗的内存不到200M可以做http反向代理和负载均衡支持异步网络i/o事件模型epoll</p></blockquote><h3 id="安装、启动nginx"><a href="#安装、启动nginx" class="headerlink" title="安装、启动nginx"></a>安装、启动nginx</h3><ol><li>安装前准备<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install </span>gcc patch libffi-devel python-devel  zlib-devel <span class="keyword">bzip2-devel </span>openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel openssl openssl-devel -y</span><br></pre></td></tr></table></figure></li></ol><p>2.下载源码包<br><code>wget -c https://nginx.org/download/nginx-1.12.0.tar.gz</code><br>3.解压源码<br><code>tar -zxvf nginx-1.12.0.tar.gz</code><br>4.配置，编译安装<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> nginx1-<span class="number">12</span></span><br><span class="line"></span><br><span class="line">./configure --prefix=/<span class="keyword">opt</span>/nginx1-<span class="number">12</span>/</span><br><span class="line"></span><br><span class="line"><span class="keyword">make</span> &amp;&amp; <span class="keyword">make</span> install</span><br></pre></td></tr></table></figure></p><p>5.启动nginx，进入sbin目录，找到启动命令<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> sbin</span><br><span class="line"><span class="string">./nginx</span> <span class="comment">#启动</span></span><br><span class="line"><span class="string">./nginx</span> -s stop <span class="comment">#关闭</span></span><br><span class="line"><span class="string">./nginx</span> -s <span class="keyword">reload</span> <span class="comment">#重新加载</span></span><br></pre></td></tr></table></figure></p><p>6.检查<br><code>netstat -tunlp |grep 80</code></p><h3 id="Nginx的目录结构"><a href="#Nginx的目录结构" class="headerlink" title="Nginx的目录结构"></a>Nginx的目录结构</h3><blockquote><p>在nginx1-12中输入ls</p></blockquote><ol><li>conf 存放nginx所有配置文件的目录，主要会用到nginx.conf</li><li>html 存放nginx默认站点的目录，如index.html、error.html等</li><li>logs 存放nginx默认日志的目录，如error.log， access.log</li><li>sbin 存放nginx朱命令的目录，sbin/nginx (在这目录下启动)<h3 id="Nginx虚拟主机实战"><a href="#Nginx虚拟主机实战" class="headerlink" title="Nginx虚拟主机实战"></a>Nginx虚拟主机实战</h3><blockquote><p>虚拟主机的类型</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">基于域名的虚拟主机</span><br><span class="line">通过不同的域名区分不同的虚拟主机，是企业应用最广的虚拟主机</span><br><span class="line"></span><br><span class="line">基于端口的虚拟主机</span><br><span class="line">通过不同的端口来区分不同的虚拟主机，一般用作企业内部网站，不对外直接提供服务的后台，例如www.pythonav.cn:<span class="number">9000</span></span><br><span class="line"></span><br><span class="line">基于<span class="built_in">IP</span>的虚拟主机</span><br><span class="line">通过不同的<span class="built_in">IP</span>区分不同的虚拟主机，此类比较少见，一般业务需要多<span class="built_in">IP</span>的常见都会在负载均衡中绑定VIP</span><br></pre></td></tr></table></figure></blockquote></li></ol><blockquote><p>基于域名的虚拟主机实战nginx可以自动识别用户请求的域名，根据不同的域名请求服务器传输不同的内容，只需要保证服务器上有一个可用的ip地址，配置好dns解析服务。</p></blockquote><h4 id="基于一个ip地址的一个域名访问"><a href="#基于一个ip地址的一个域名访问" class="headerlink" title="基于一个ip地址的一个域名访问"></a>基于一个ip地址的一个域名访问</h4><blockquote><p>修改nginx.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@oldboy_python ~ 14:33:16]#egrep -v &apos;#|^$&apos; /opt/nginx1-12/conf/nginx.conf</span><br><span class="line">worker_processes  1;</span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</span><br><span class="line">                      &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</span><br><span class="line">                      &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br><span class="line">    access_log  logs/access.log  main;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  www.diyi.com;</span><br><span class="line">        location /&#123;</span><br><span class="line">            root   html/pyyuc;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>创建diyi.com的站点目录和文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@oldboy_python /opt/nginx1-12/html 14:36:08]#mkdir diyi</span><br><span class="line">[root@oldboy_python /opt/nginx1-12/html 14:36:18]#echo &quot;&lt;meta charset=utf8&gt;我是diyi站点&quot; &gt; diyi/index.html</span><br><span class="line">[root@oldboy_python /opt/nginx1-12/html 14:37:21]#cat diyi/index.html</span><br><span class="line">&lt;meta charset=utf8&gt;我是diyi站点</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>完成后重启nginx,就可以访问了<br><code>./nginx -s reload</code></p></blockquote><h4 id="基于同一ip访问多个域名"><a href="#基于同一ip访问多个域名" class="headerlink" title="基于同一ip访问多个域名"></a>基于同一ip访问多个域名</h4><blockquote><p><strong>新增一个新的server{}</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">egrep -v &apos;#|^$&apos; /opt/nginx1-12/conf/nginx.conf</span><br><span class="line">worker_processes  1;</span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</span><br><span class="line">                      &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</span><br><span class="line">                      &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br><span class="line">    access_log  logs/access.log  main;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  www.pyyuc.cn;</span><br><span class="line">        location /&#123;</span><br><span class="line">            root   html/pyyuc;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  www.pythonav.cn;</span><br><span class="line">        location /&#123;</span><br><span class="line">            root   html/pythonav;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>创建第二模拟主机站点的目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@oldboy_python /opt/nginx1-12 14:47:21]#mkdir -p /opt/nginx1-12/html/pythonav</span><br><span class="line">[root@oldboy_python /opt/nginx1-12 14:49:33]#echo &quot;&lt;meta charset=utf8&gt;我是pythonav，未成年禁止入内&quot;&gt; /opt/nginx1-12/html/pythonav/index.html</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>重启，输入域名</p></blockquote><h3 id="nginx访问日志（access-log）"><a href="#nginx访问日志（access-log）" class="headerlink" title="nginx访问日志（access_log）"></a>nginx访问日志（access_log）</h3><blockquote></blockquote><p>日志功能对每个用户访问网站的日志信息记录到指定的日志文件里，开发运维人员可以分析用户的浏览器行为，此功能由ngx_http_log_module模块负责，<a href="http://nginx.org/en/docs/http/ngx_http_log_module.html" target="_blank" rel="noopener">官方文档</a><br>控制日志的参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">log_format    记录日志的格式，可定义多种格式</span><br><span class="line">accsss_log    指定日志文件的路径以及格式　　log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</span><br><span class="line">　　&apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</span><br><span class="line">　　&apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br></pre></td></tr></table></figure></p><p>对应参数解析<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$remote</span>_addr    记录客户端ip</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$remote</span>_user    远程用户，没有就是 “-”</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$time</span>_local 　　 对应[14/Aug/2018:18:46:52 +0800]</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$request</span>　　　 　对应请求信息"GET /favicon.ico HTTP/1.1"</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$status</span>　　　  　状态码</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$body</span>_bytes_sent　　571字节 请求体的大小</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$http</span>_referer　　对应“-”　　由于是直接输入浏览器就是 -</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$http</span>_user_agent　　客户端身份信息</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$http</span>_x_forwarded_for　　记录客户端的来源真实ip 97.64.34.118</span></span><br></pre></td></tr></table></figure></p><blockquote><p>nginx.conf默认配置<br><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">log_format  main  <span class="string">'<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] "<span class="variable">$request</span>" '</span></span><br><span class="line">                      <span class="string">'<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> "<span class="variable">$http_referer</span>" '</span></span><br><span class="line">                      <span class="string">'"<span class="variable">$http_user_agent</span>" "<span class="variable">$http_x_forwarded_for</span>"'</span><span class="comment">;</span></span><br><span class="line"></span><br><span class="line"> access_log  logs/access.log  main<span class="comment">;</span></span><br><span class="line"> </span><br><span class="line">log_format是日志关键字参数，不能变</span><br><span class="line">main是日志格式指定的标签，记录日志时通过main标签选择指定的格式。</span><br></pre></td></tr></table></figure></p></blockquote><h3 id="限制网站来源ip访问"><a href="#限制网站来源ip访问" class="headerlink" title="限制网站来源ip访问"></a>限制网站来源ip访问</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">限制ip或ip段访问</span><br><span class="line">location / &#123;</span><br><span class="line">deny <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span>;</span><br><span class="line">deny <span class="number">192.168</span><span class="number">.1</span><span class="number">.0</span>/<span class="number">24</span>;</span><br><span class="line">allow <span class="number">10.1</span><span class="number">.1</span><span class="number">.0</span>/<span class="number">16</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Nginx错误页面优化"><a href="#Nginx错误页面优化" class="headerlink" title="Nginx错误页面优化"></a>Nginx错误页面优化</h3><blockquote><p>自定义一个错误404页面<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  www.pythonav.cn;</span><br><span class="line">        root html/pythonav;</span><br><span class="line">        location /&#123;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;　　　　　　#在pythonav路径下的40x.html错误页面</span><br><span class="line">        error_page 400 403 404 405 /40x.html;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p></blockquote><h3 id="Nginx反向代理"><a href="#Nginx反向代理" class="headerlink" title="Nginx反向代理"></a>Nginx反向代理</h3><blockquote><p>1.正向代理的概念<br>    正向代理，实际应用在，vpn代理ip<br>    那么用户在家的时候，通过一个代理ip，连接上公司的内网环境<br>    这个ip就是一个正向代理ip</p></blockquote><blockquote><p>2.反向代理<br>    1.用户发起请求  pythonav.cn/login/ ，访问到nginx服务器，告诉nginx，我要登录</p><pre><code>2. nginx 作为一个中间代理，他不做处理，他把这请求，直接扔给后面的应用服务器,django 3.django接收到login请求，处理请求，返回请求再给nginx4.nginx返回处理完毕的页面，数据，返回给用户/浏览器5.客户/浏览器得到一个处理完毕的结果</code></pre></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;三五七言 / 秋风词&lt;/p&gt;
&lt;p&gt;唐代：李白&lt;/p&gt;
&lt;p&gt;秋风清，秋月明，&lt;br&gt;落叶聚还散，寒鸦栖复惊。&lt;br&gt;相思相见知何日？此时此夜难为情！&lt;br&gt;入我相思门，知我相思苦，&lt;br&gt;长相思兮长相忆，短相思兮无穷极，&lt;br&gt;早知如此绊人心，何如当初莫相识。&lt;/p&gt;
&lt;
      
    
    </summary>
    
    
      <category term="linux nginx" scheme="http://fireworksrain.com/tags/linux-nginx/"/>
    
  </entry>
  
  <entry>
    <title>linux下的python</title>
    <link href="http://fireworksrain.com/2018/11/22/linux%E4%B8%8B%E7%9A%84python/"/>
    <id>http://fireworksrain.com/2018/11/22/linux下的python/</id>
    <published>2018-11-21T17:51:33.000Z</published>
    <updated>2018-11-22T09:22:45.713Z</updated>
    
    <content type="html"><![CDATA[<p>将进酒</p><p>唐代：李白</p><p>君不见，黄河之水天上来，奔流到海不复回。<br>君不见，高堂明镜悲白发，朝如青丝暮成雪。<br>人生得意须尽欢，莫使金樽空对月。<br>天生我材必有用，千金散尽还复来。<br>烹羊宰牛且为乐，会须一饮三百杯。<br>岑夫子，丹丘生，将进酒，杯莫停。<br>与君歌一曲，请君为我倾耳听。<br>钟鼓馔玉不足贵，但愿长醉不复醒。<br>古来圣贤皆寂寞，惟有饮者留其名。<br>陈王昔时宴平乐，斗酒十千恣欢谑。<br>主人何为言少钱，径须沽取对君酌。<br>五花马，千金裘，呼儿将出换美酒，与尔同销万古愁。</p><h1 id="在Linux中安装Python的操作步骤"><a href="#在Linux中安装Python的操作步骤" class="headerlink" title="在Linux中安装Python的操作步骤"></a>在Linux中安装Python的操作步骤</h1><h3 id="1-安装Python前的环境准备，非常非常重要！！！！"><a href="#1-安装Python前的环境准备，非常非常重要！！！！" class="headerlink" title="1.安装Python前的环境准备，非常非常重要！！！！"></a>1.安装Python前的环境准备，非常非常重要！！！！</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install </span>gcc patch libffi-devel python-devel  zlib-devel <span class="keyword">bzip2-devel </span>openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel -y</span><br></pre></td></tr></table></figure><h3 id="2-下载安装源码包"><a href="#2-下载安装源码包" class="headerlink" title="2.下载安装源码包"></a>2.下载安装源码包</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.python.org/ftp/python/<span class="number">3.4</span><span class="meta">.7</span>/Python-<span class="number">3.4</span><span class="meta">.7</span>.tar.xzxz -d Python-<span class="number">3.4</span><span class="meta">.7</span>.tar.xztar -xf Python-<span class="number">3.4</span><span class="meta">.7</span>.tar</span><br></pre></td></tr></table></figure><p>在opt的文件夹下执行此代码<br><code>[root@localhost opt]# wget https://www.python.org/ftp/python/3.4.7/Python-3.4.7.tar.xzxz -d Python-3.4.7.tar.xztar -xf Python-3.4.7.tar</code></p><h3 id="3解压python源代码"><a href="#3解压python源代码" class="headerlink" title="3解压python源代码"></a>3解压python源代码</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">xz</span> <span class="selector-tag">-d</span> <span class="selector-tag">Python-3</span><span class="selector-class">.4</span><span class="selector-class">.7</span><span class="selector-class">.tar</span><span class="selector-class">.xz</span></span><br><span class="line"><span class="selector-tag">tar</span> <span class="selector-tag">-xf</span> <span class="selector-tag">Python-3</span><span class="selector-class">.4</span><span class="selector-class">.7</span><span class="selector-class">.tar</span></span><br></pre></td></tr></table></figure><p>在opt的文件夹中操作<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost opt]</span># <span class="selector-tag">xz</span> <span class="selector-tag">-d</span> <span class="selector-tag">Python-3</span><span class="selector-class">.4</span><span class="selector-class">.7</span><span class="selector-class">.tar</span><span class="selector-class">.xz</span></span><br><span class="line"><span class="selector-attr">[root@localhost opt]</span># <span class="selector-tag">tar</span> <span class="selector-tag">-xf</span> <span class="selector-tag">Python-3</span><span class="selector-class">.4</span><span class="selector-class">.7</span><span class="selector-class">.tar</span></span><br></pre></td></tr></table></figure></p><h3 id="4-切换进入python源码目录"><a href="#4-切换进入python源码目录" class="headerlink" title="4.切换进入python源码目录"></a>4.切换进入python源码目录</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/opt/Python-3.4.7</span></span><br></pre></td></tr></table></figure><h3 id="5-开始编译安装，释放编译文件"><a href="#5-开始编译安装，释放编译文件" class="headerlink" title="5.开始编译安装，释放编译文件"></a>5.开始编译安装，释放编译文件</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.<span class="regexp">/configure --prefix=/</span>opt<span class="regexp">/python347/</span>    <span class="comment">#此时还不会生成这个文件夹！</span></span><br></pre></td></tr></table></figure><p>在opt文件夹下的Python-3.4.7运行<br><code>[root@localhost Python-3.4.7]# ./configure --prefix=/opt/python347/</code></p><h3 id="6-开始编译，编译安装-两种"><a href="#6-开始编译，编译安装-两种" class="headerlink" title="6.开始编译，编译安装(两种)"></a>6.开始编译，编译安装(两种)</h3><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span></span><br><span class="line"> <span class="built_in">make</span> </span><br><span class="line"><span class="built_in">make</span> install     <span class="meta">#直到这两步走完，才会生成。创建 /opt/python347/</span></span><br><span class="line"><span class="number">2.</span></span><br><span class="line"><span class="built_in">make</span> &amp;&amp; <span class="built_in">make</span> install</span><br></pre></td></tr></table></figure><p>继续在opt文件夹下的Python-3.4.7运行<br><code>[root@localhost Python-3.4.7]# make &amp;&amp; make install</code></p><blockquote><p>到这就可以运行python了<br>到opt文件夹下的python347文件夹下的bin目录中输入./python3<br>这是就会出现非常熟悉有感觉的界面<br>接下来就为了创建快捷方式</p></blockquote><h3 id="8-配置软连接，快捷启动python3和pip3"><a href="#8-配置软连接，快捷启动python3和pip3" class="headerlink" title="8.配置软连接，快捷启动python3和pip3"></a>8.配置软连接，快捷启动python3和pip3</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s <span class="meta-keyword">/opt/</span>python347<span class="meta-keyword">/bin/</span>python3    <span class="meta-keyword">/usr/</span>bin/python3</span><br><span class="line">ln -s <span class="meta-keyword">/opt/</span>python347<span class="meta-keyword">/bin/</span>pip3  <span class="meta-keyword">/usr/</span>bin/pip3</span><br></pre></td></tr></table></figure><blockquote><p>在根目录下执行软连接：ln -s /opt/python347/bin/python3    /usr/bin/python3<br>在根目录继续创建软链接：ln -s /opt/python347/bin/pip3  /usr/bin/pip3</p></blockquote><h3 id="9-配置系统环境变量，配置PATH，加入python3的目录-目的跟上一步相同-配置环境变量须谨慎"><a href="#9-配置系统环境变量，配置PATH，加入python3的目录-目的跟上一步相同-配置环境变量须谨慎" class="headerlink" title="9. 配置系统环境变量，配置PATH，加入python3的目录(目的跟上一步相同)配置环境变量须谨慎"></a>9. 配置系统环境变量，配置PATH，加入python3的目录(目的跟上一步相同)配置环境变量须谨慎</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.最好用这一步</span><br><span class="line">PATH=<span class="regexp">/opt/python</span>347/bin/<span class="symbol">:/usr/local/sbin</span><span class="symbol">:/usr/local/bin</span><span class="symbol">:/usr/sbin</span><span class="symbol">:/usr/bin</span><span class="symbol">:/root/bin</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.尽量不用</span><br><span class="line">PATH=<span class="variable">$PATH</span><span class="symbol">:/opt/python347/bin/</span></span><br><span class="line">将上面的写入到个人配置文件中，永久生效</span><br><span class="line">vim /etc/profile  <span class="comment">#编辑个人配置文件，写入PATH</span></span><br><span class="line">PATH=<span class="variable">$PATH</span><span class="symbol">:/opt/python347/bin/</span></span><br><span class="line">source /etc/profile  <span class="comment">#读取一下配置文件，生效配置</span></span><br></pre></td></tr></table></figure><h3 id="运行时遇到问题"><a href="#运行时遇到问题" class="headerlink" title="运行时遇到问题"></a>运行时遇到问题</h3><blockquote><p>网页访问不到 ：ptables -F  </p><ul><li>setenforce 0</li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;将进酒&lt;/p&gt;
&lt;p&gt;唐代：李白&lt;/p&gt;
&lt;p&gt;君不见，黄河之水天上来，奔流到海不复回。&lt;br&gt;君不见，高堂明镜悲白发，朝如青丝暮成雪。&lt;br&gt;人生得意须尽欢，莫使金樽空对月。&lt;br&gt;天生我材必有用，千金散尽还复来。&lt;br&gt;烹羊宰牛且为乐，会须一饮三百杯。&lt;br&gt;岑夫子，丹
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://fireworksrain.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://fireworksrain.com/2018/11/21/hello-world/"/>
    <id>http://fireworksrain.com/2018/11/21/hello-world/</id>
    <published>2018-11-21T14:34:14.754Z</published>
    <updated>2018-11-21T14:34:14.754Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
